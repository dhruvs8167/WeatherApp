{"version":3,"sources":["assets\\Scripts\\AppManager.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nimport ApiManager from \"./ApiManager\";\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class AppManager extends cc.Component {\r\n\r\n    @property(cc.Label)\r\n    Temperature: cc.Label = null;\r\n\r\n    @property(cc.Label)\r\n    FeelsLike: cc.Label = null;\r\n\r\n    @property(cc.Label)\r\n    Humidity: cc.Label = null;\r\n\r\n    @property(cc.Label)\r\n    Wind: cc.Label = null;\r\n\r\n    @property(cc.Sprite)\r\n    IconImage: cc.Sprite = null;\r\n\r\n    @property(cc.Node)\r\n    LoadingScreen: cc.Node = null;\r\n\r\n    @property(cc.Node)\r\n    FirstScreen: cc.Node = null;\r\n\r\n    @property(cc.Node)\r\n    SecondScreen: cc.Node = null;\r\n\r\n    @property\r\n    text: string = 'hello';\r\n\r\n    public latitude: string =null;\r\n    public longitude: string = null;\r\n\r\n    MainUrl: string =null;\r\n\r\n     onLoad () {\r\n        cc.game.on(\"WeatherApiResponce\" , (res)=> {\r\n            var data = JSON.parse(res);\r\n            this.ShowWeatherDetails(data);\r\n            var iconid = data.weather[0].icon;\r\n            var url = \" http://openweathermap.org/img/wn/\"+iconid+\"@2x.png\";\r\n            //For Downloading and Displaying Icon\r\n            cc.assetManager.loadRemote(url, (err, tex)=>{\r\n                cc.log(\"this url loded---------> \" + url);\r\n                this.IconImage.enabled = true;\r\n                this.IconImage.spriteFrame = new cc.SpriteFrame(tex);\r\n           });\r\n        });\r\n     }\r\n\r\n    start () {\r\n      ApiManager.instance = new ApiManager();\r\n    }\r\n    //Called from GetPosition Button\r\n    OnGetPositionClick(){\r\n        if (navigator.geolocation) {\r\n            navigator.geolocation.getCurrentPosition(position => {\r\n               this.latitude = JSON.stringify(position.coords.latitude);\r\n               this.longitude = JSON.stringify(position.coords.longitude);\r\n               var url = \"https://api.openweathermap.org/data/2.5/weather?lat=\"+this.latitude +\"&lon=\"+this.longitude +\"&appid=219d872e09770efcceb674c5c478191f&units=metric\"\r\n               ApiManager.instance.GetRequest(url);\r\n               this.LoadingScreen.active = true;\r\n               this.FirstScreen.active = false;\r\n               this.SecondScreen.active = false;\r\n            },error => alert(error.message));\r\n        }\r\n\r\n    }\r\n    // Called from Paris,NewYork,Istanbul Buttons\r\n    OnLocationsClicked(event, constant){        \r\n        var url = \"https://api.openweathermap.org/data/2.5/weather?q=\" + constant + \"&appid=219d872e09770efcceb674c5c478191f&units=metric\";\r\n        ApiManager.instance.GetRequest(url);\r\n    }\r\n    // Display Weather Details From API responce.\r\n    ShowWeatherDetails(data){\r\n        this.LoadingScreen.active = false;\r\n        this.FirstScreen.active = false;\r\n        this.SecondScreen.active = true;\r\n        this.Temperature.string = data.main.temp + \"°C\";\r\n        this.FeelsLike.string = data.main.feels_like + \"°C\";\r\n        this.Humidity.string = data.main.humidity + \"%\";\r\n        this.Wind.string = data.wind.speed + \"m/s\";        \r\n    }\r\n    // Called From Back Button\r\n    OnBackCkick(){\r\n        this.IconImage.spriteFrame = null;\r\n        this.LoadingScreen.active = false;\r\n        this.FirstScreen.active = true;\r\n        this.SecondScreen.active = false;\r\n    }\r\n}\r\n"]}